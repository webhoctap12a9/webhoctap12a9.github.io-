<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trang chá»§</title>
  <link rel="stylesheet" href="homestyle.css">
</head>
<body>

<!-- TEXT -->
<div class="intro-text">
  <h1>Thuyáº¿t trÃ¬nh bÃ n em</h1>
  <h2>TrÆ°á»›c tiÃªn chÃºng ta hÃ£y Ä‘áº¿n vá»›i video nÃ y</h2>
</div>

<!-- VIDEO 3 KHUNG -->
<div class="video-bg hidden">

  <div class="video-box">
    <video class="slave" muted playsinline preload="auto">
      <source src="./assest/video/video1.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video id="mainVideo" muted playsinline preload="auto">
      <source src="./assest/video/video1.mp4" type="video/mp4">
    </video>
  </div>

  <div class="video-box">
    <video class="slave" muted playsinline preload="auto">
      <source src="./assest/video/video1.mp4" type="video/mp4">
    </video>
    <button id="soundBtn">ğŸ”Š Báº­t tiáº¿ng</button>
  </div>

</div>

<script>
const text = document.querySelector(".intro-text");
const videoBox = document.querySelector(".video-bg");
const mainVideo = document.getElementById("mainVideo");
const slaves = document.querySelectorAll(".slave");
const soundBtn = document.getElementById("soundBtn");

// 2s: chá»¯ má»
setTimeout(() => {
  text.classList.add("fade-out");
}, 2000);

// 3s: hiá»‡n video + CHáº Y Äá»’NG Bá»˜
setTimeout(() => {
  videoBox.classList.remove("hidden");
  videoBox.classList.add("fade-in");

  // cháº¡y video chÃ­nh trÆ°á»›c
  mainVideo.currentTime = 0;
  mainVideo.play();

  // cÃ¡c video phá»¥ bÃ¡m theo
  slaves.forEach(v => {
    v.currentTime = 0;
    v.play();
  });

}, 3000);

// Äá»’NG Bá»˜ THá»œI GIAN (chá»‘ng lá»‡ch)
mainVideo.addEventListener("timeupdate", () => {
  slaves.forEach(v => {
    if (Math.abs(v.currentTime - mainVideo.currentTime) > 0.04) {
      v.currentTime = mainVideo.currentTime;
    }
  });
});

// Háº¾T VIDEO â†’ CHUYá»‚N TRANG
mainVideo.addEventListener("ended", () => {
  document.body.classList.add("fade-out");
  setTimeout(() => {
    window.location.href = "trang-tiep-theo.html";
  }, 800);
});

// Báº¬T TIáº¾NG
soundBtn.addEventListener("click", () => {
  mainVideo.muted = false;
  mainVideo.play();
  soundBtn.style.display = "none";
});
</script>

</body>
</html>
